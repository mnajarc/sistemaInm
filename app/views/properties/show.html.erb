<div class="container mt-4">
  <div class="row">
    <div class="col-12">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h1><%= @property.title %></h1>
        <div>
          <%= link_to 'Editar', edit_property_path(@property), class: 'btn btn-primary' %>
          <%= link_to 'Lista', properties_path, class: 'btn btn-secondary' %>
        </div>
      </div>

      <div class="row">
        <div class="col-md-8">
          <div class="card mb-4">
            <div class="card-header">
              <h5>Descripción</h5>
            </div>
            <div class="card-body">
              <p><%= simple_format(@property.description) %></p>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <h5>Ubicación</h5>
            </div>
            <div class="card-body">
              <address>
                <%= simple_format(@property.address) %><br>
                <%= @property.city %>, <%= @property.state %> <%= @property.postal_code %>
              </address>
            </div>
          </div>
        </div>

        <div class="col-md-4">
          <div class="card mb-4">
            <div class="card-header">
              <h5>Información General</h5>
            </div>
            <div class="card-body">
              <p><strong>Precio:</strong> <span class="text-success fs-4">$<%= number_with_delimiter(@property.price) %></span></p>
              <p><strong>Tipo:</strong> <%= @property.property_type.humanize %></p>
              <p><strong>Estatus:</strong> 
                <span class="badge bg-<%= @property.status == 'disponible' ? 'success' : 
                                        @property.status == 'en_proceso' ? 'warning' : 
                                        @property.status == 'vendida' ? 'primary' : 'secondary' %>">
                  <%= @property.status.humanize %>
                </span>
              </p>
              <hr>
              <p><strong>Recámaras:</strong> <%= @property.bedrooms %></p>
              <p><strong>Baños:</strong> <%= @property.bathrooms %></p>
              <p><strong>Área construida:</strong> <%= @property.built_area_m2 %> m²</p>
              <p><strong>Área del terreno:</strong> <%= @property.lot_area_m2 %> m²</p>
              <% if @property.year_built.present? %>
                <p><strong>Año de construcción:</strong> <%= @property.year_built %></p>
              <% end %>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <h5>Detalles del Registro</h5>
            </div>
            <div class="card-body">
              <p><strong>Publicado por:</strong> <%= @property.user.email %></p>
              <p><strong>Creado:</strong> <%= @property.created_at.strftime("%d/%m/%Y %H:%M") %></p>
              <p><strong>Actualizado:</strong> <%= @property.updated_at.strftime("%d/%m/%Y %H:%M") %></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
